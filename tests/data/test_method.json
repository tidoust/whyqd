{"uuid": "b1c5fa77-cfe4-463a-aa10-2a6ceddf1970", "name": "test_method", "schema_fields": [{"uuid": "293d5457-c1f3-47b2-8125-ff57b220129c", "name": "la_code", "title": "Local authority code", "description": "Standard code for local authority.", "type": "string"}, {"uuid": "192fe5c9-5e70-4c81-ad7f-f33985a6d099", "name": "ba_ref", "title": "Billing reference", "description": "Unique code for a specific hereditament. May be multiple rows for history.", "type": "string"}, {"uuid": "2512ec4d-3b85-480c-acb4-48d1f845e950", "name": "prop_ba_rates", "title": "Property billing rates", "description": "Actual rates paid by a specific ratepayer.", "type": "number"}, {"uuid": "61456662-18a0-43c7-9e31-43544b6c92a8", "name": "occupant_name", "title": "Occupier name", "description": "Name of the ratepayer.", "type": "string"}, {"uuid": "d40c66b9-1f4c-4986-b817-4f78efe49689", "name": "postcode", "title": "Postcode", "description": "Full address or postcode of ratepayer.", "type": "string"}, {"uuid": "cd170ba0-40df-4f48-aebd-a556aaa601ce", "name": "occupation_state", "title": "Occupation state", "description": "Occupation status, void or occupied.", "type": "boolean"}, {"uuid": "0cce1c59-6156-4311-a7c5-ceba9a8bd4e9", "name": "occupation_state_date", "title": "Date of occupation state", "description": "Date of the start of status in occupation_state.", "type": "date"}, {"uuid": "51683f92-ed87-4d5a-99d7-6f52290e2d1f", "name": "occupation_state_reliefs", "title": "Occupation state reliefs", "description": "Array of the categories of reliefs / exemptions applied.", "type": "array", "constraints": {"enum": [{"uuid": "7f63b6ba-7615-462c-af6c-382e87cd2448", "name": "small_business"}, {"uuid": "64167538-0962-49f8-9e71-1cc3f0abd55e", "name": "rural"}, {"uuid": "bf3f5f71-ce05-42e7-bdd3-2e16b6b27792", "name": "charity"}, {"uuid": "4d85c4f7-940a-4858-a864-25de6ea7bf30", "name": "enterprise_zone"}, {"uuid": "94f52fe4-763a-4c4a-82e0-716f8a6d11ba", "name": "vacancy"}, {"uuid": "cbb8264e-899d-47f3-8e0f-71d25d5f23e4", "name": "hardship"}, {"uuid": "289f5194-b1ee-4156-8408-3863cf91ccaf", "name": "retail"}, {"uuid": "b9d2da81-ebf8-4c37-bf5c-ab41d06015e2", "name": "discretionary"}, {"uuid": "a7891290-e5a8-49e4-a019-021ad5ec5634", "name": "exempt"}, {"uuid": "c8c60805-ee77-49d4-9eae-7608710ed5e3", "name": "transitional"}, {"uuid": "0144848e-c2d0-4d8d-87d2-fad55fc95876", "name": "other"}]}}], "input_data": [{"uuid": "1c215dcd-67b6-44bb-8e54-e0f11d47b75e", "path": "/mnt/c/users/turukawa/documents/github/sqwyre-assets/data/raw_E06000044_014_0.XLSX", "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", "columns": [{"uuid": "672db955-16cd-4fc5-8bee-0ff61223612d", "name": "Property Reference Number", "type": "number"}, {"uuid": "0c6c50f2-b7b2-4534-afa7-34159ce64d3f", "name": "Primary Liable party name"}, {"uuid": "67516524-2f2b-44ac-b03a-977507771947", "name": "Full Property Address"}, {"uuid": "6ff24ee7-7c4a-42cc-ad9a-4e8464b0524a", "name": "Current Relief Type"}, {"uuid": "b74aa3e9-3f88-45ad-afff-c2baadc6249e", "name": "Account Start date"}, {"uuid": "00681c59-62d1-4d37-bea4-db82d254c1ef", "name": "Current Relief Award Start Date"}, {"uuid": "1c840199-d003-47ad-bb55-f6124cbf8ffc", "name": "Current Rateable Value", "type": "number"}], "key": {"uuid": "350cc0f7-0bac-4da2-b750-dfce2fc7d59d", "name": "Property Reference Number"}, "checksum": "b180bd9fe8c3b1025f433e0b3377fb9a738523b9c33eac5d62ed83c51883e1f64a3895edf0fc9e96a85a4130df3392177dff262963338971114aa4f5d1b0a70e"}, {"uuid": "fb39d2de-2e1d-4d39-a6c0-760debce462b", "path": "/mnt/c/users/turukawa/documents/github/sqwyre-assets/data/raw_E06000044_014_1.XLSX", "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", "columns": [{"uuid": "0603c8ec-673d-439a-b2c9-559a73b90851", "name": "Property Reference Number", "type": "number"}, {"uuid": "2c74a6dc-103d-401f-ab43-71af106862c7", "name": "Full Property Address"}, {"uuid": "4b52c961-95b5-46be-9343-048ba9415f5c", "name": "Current Property Exemption Code"}, {"uuid": "4147cfb8-390f-4771-a54f-85a4a0a57538", "name": "Current Prop Exemption Start Date"}, {"uuid": "dfa89ce8-afbf-4586-8424-d61f229bd346", "name": "Primary Liable party name"}, {"uuid": "a7cc5a30-559a-46d3-b147-6cf6443d9362", "name": "Current Rateable Value", "type": "number"}], "key": {"uuid": "78fb53e9-342f-47f9-b778-7cfb964589c3", "name": "Property Reference Number"}, "checksum": "98e23e4eac6782873492181d6e4f3fcf308f1bb0fc47dc582c3fdf031c020a651d9f06f6510b21405c3f63b8d576a93a27bd2f3cc5b053d8d9022c884b57d3a3"}, {"uuid": "3f7bd73c-9641-449f-863c-82fa3d851bb6", "path": "/mnt/c/users/turukawa/documents/github/sqwyre-assets/data/raw_E06000044_014_2.XLSX", "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", "columns": [{"uuid": "5d7941be-a337-455c-b1ae-2abb6baf1a46", "name": "Property ref no", "type": "number"}, {"uuid": "7ebf7142-e7c1-4193-8e70-6a86b355ebcc", "name": "Full Property Address"}, {"uuid": "e1e404f8-661c-4827-bdd9-e6946eb596cb", "name": "Primary Liable party name"}, {"uuid": "94e5b06d-81be-418a-bcfc-4f8790220928", "name": "Account Start date"}, {"uuid": "6787034d-6fbe-4237-8e31-89d155b7ecfe", "name": "Current Rateable Value", "type": "number"}], "key": {"uuid": "d3d33ff0-dc8e-4cee-a22c-c5a1e20eb6e2", "name": "Property ref no"}, "checksum": "9fd3d0df6cc1e0e58ab481ca9d46b68150b3b8d0c97148a00417af16025ba066e29a35994d0e4526edb1deda4c10b703df8f0dbcc23421dd6c0c0fd1a4c6b01c"}], "working_data": {"uuid": "51a9a6dc-17e2-46d8-bfce-74bf421a761d", "path": "/mnt/c/users/turukawa/documents/github/sqwyre-assets/tests/working_test_method_b1c5fa77cfe4463aaa102a6ceddf1970.xlsx", "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", "columns": [{"uuid": "663c2466-a516-40c7-8cf5-203fcd3d2085", "name": "Property ref no", "type": "number"}, {"uuid": "1dfb6fb8-f2cf-4b47-8109-470dcc6c1b8a", "name": "Full Property Address_x"}, {"uuid": "a87fd48e-c623-47bb-bd1a-f30c5194b5ae", "name": "Primary Liable party name_x"}, {"uuid": "fe8fcf4a-f44c-4c92-8f40-7a41392bd01b", "name": "Account Start date_x"}, {"uuid": "120d4f0b-72aa-4d2a-a9ec-ae399ca3f5d1", "name": "Current Rateable Value_x", "type": "number"}, {"uuid": "836d3201-bcab-4c26-b6cd-23cce893a2ef", "name": "Full Property Address_y"}, {"uuid": "1f1b5601-5f9e-4813-8f64-c1e930656c1c", "name": "Current Property Exemption Code"}, {"uuid": "e761cea6-967e-4568-ae3b-2249b464f585", "name": "Current Prop Exemption Start Date"}, {"uuid": "1ae0ba42-0caa-48f0-8b6f-253cc9b660ad", "name": "Primary Liable party name_y"}, {"uuid": "3e54522e-bd3d-4bc2-9884-79257e6e63e5", "name": "Current Rateable Value_y", "type": "number"}, {"uuid": "4428b334-bd30-4b04-b8aa-36f5ad4c9e6b", "name": "Primary Liable party name"}, {"uuid": "c38dbe26-1478-4f39-913f-659139213fff", "name": "Full Property Address"}, {"uuid": "3d84a984-2eee-489a-997d-bbd096f64ea1", "name": "Current Relief Type"}, {"uuid": "dbc21f1d-6cfc-4258-b716-d467d8af5461", "name": "Account Start date_y"}, {"uuid": "7cd75354-74e4-4763-913a-ce6101cc1d45", "name": "Current Relief Award Start Date"}, {"uuid": "630ec11c-d69a-4d41-bd12-a71de63cef47", "name": "Current Rateable Value", "type": "number"}], "preserve": [{"uuid": "12ea1c9f-8a4a-402a-9eec-a1ef175a344e", "name": "Full Property Address_x"}, {"uuid": "b0bfa3c2-ec85-4f1b-9bfa-906076bbd874", "name": "Primary Liable party name_x"}, {"uuid": "bf2ee109-7c64-4c40-baf3-02ef7f9aaf2d", "name": "Account Start date_x"}, {"uuid": "67d4137d-0467-4577-96fb-ef00ef71bdde", "name": "Full Property Address_y"}, {"uuid": "ece4cd30-6cb2-414e-b448-bebb9bd37d10", "name": "Current Property Exemption Code"}, {"uuid": "ff1c6561-21d0-48a1-8e58-b65a34cb67f6", "name": "Current Prop Exemption Start Date"}, {"uuid": "b02f2b15-175a-441d-b4f0-dc7e850d2806", "name": "Primary Liable party name_y"}, {"uuid": "a4dd905b-aa76-42a5-88a9-7cbb45a803d5", "name": "Primary Liable party name"}, {"uuid": "ed32fc77-3296-4ca2-b755-76c7eece19a0", "name": "Full Property Address"}, {"uuid": "cde8f8f3-46e6-4c0a-84e1-a54409d7d94d", "name": "Current Relief Type"}, {"uuid": "05b12dad-669f-44ec-b770-7e2d104371ef", "name": "Account Start date_y"}, {"uuid": "60ca8469-c14e-428a-a336-8ecbb7ab6c78", "name": "Current Relief Award Start Date"}], "actions": [{"uuid": "b975d673-6adb-47ad-8381-bbc5ae6f4e2c", "script": "MERGE < ['Property ref no'::'3f7bd73c9641449f863c82fa3d851bb6', 'Property Reference Number'::'fb39d2de2e1d4d39a6c0760debce462b', 'Property Reference Number'::'1c215dcd67b644bb8e54e0f11d47b75e']"}, {"uuid": "1ad12774-5a39-4f84-874d-bf52c772fdd9", "script": "NEW > 'la_code' < ['E06000044']"}, {"uuid": "310644df-bf7c-40d0-b7fa-ff02dd02081a", "script": "RENAME > 'ba_ref' < ['Property ref no']"}, {"uuid": "12d37fc5-7d29-48eb-a77b-2eedaac6dc1d", "script": "ORDER > 'prop_ba_rates' < ['Current Rateable Value_x', 'Current Rateable Value_y', 'Current Rateable Value']"}, {"uuid": "ee5c9487-b40d-4531-ba65-2300a66a46bc", "script": "ORDER > 'occupant_name' < ['Primary Liable party name_x', 'Primary Liable party name_y', 'Primary Liable party name']"}, {"uuid": "68b0c1c5-8b77-4eb1-b108-b837ec4f5609", "script": "ORDER > 'postcode' < ['Full Property Address_x', 'Full Property Address_y', 'Full Property Address']"}, {"uuid": "48df9dce-4cdb-4bc0-bf68-8b569bbf9ef1", "script": "CATEGORISE > 'occupation_state' < [+ 'Current Property Exemption Code', + 'Current Relief Type']"}, {"uuid": "45678c03-cad4-49ac-8c29-a7f75ea424d8", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state'::False < 'Current Property Exemption Code'::['EPRN', 'EPRI', 'VOID', 'EPCH', 'LIQUIDATE', 'DECEASED', 'PROHIBITED', 'BANKRUPT']"}, {"uuid": "130e18cb-4b44-4dac-8d9c-3859ed423fe8", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state'::False < 'Current Relief Type'::['Empty Property Rate Non-Industrial', 'Empty Property Rate Industrial', 'Empty Property Rate Charitable']"}, {"uuid": "6946e7a9-af01-49d9-823e-d07033930da1", "script": "CATEGORISE > 'occupation_state_reliefs' < [+ 'Current Property Exemption Code', + 'Current Relief Type']"}, {"uuid": "552768ba-0b85-43e4-9460-ffb31dc9f805", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state_reliefs'::'small_business' < 'Current Relief Type'::['Small Business Relief England', 'Sbre Extension For 12 Months', 'Supporting Small Business Relief']"}, {"uuid": "f4086187-5cf1-4a78-a359-0683667e0ae5", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state_reliefs'::'enterprise_zone' < 'Current Property Exemption Code'::['INDUSTRIAL']"}, {"uuid": "7fa6ab27-ef78-4015-96c5-4dcb25cd1985", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state_reliefs'::'vacancy' < 'Current Property Exemption Code'::['EPRN', 'EPRI', 'VOID', 'EPCH', 'LIQUIDATE', 'DECEASED', 'PROHIBITED', 'BANKRUPT']"}, {"uuid": "5070fbcb-15eb-485e-a306-4b755b590f5e", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state_reliefs'::'vacancy' < 'Current Relief Type'::['Empty Property Rate Non-Industrial', 'Empty Property Rate Industrial', 'Empty Property Rate Charitable']"}, {"uuid": "9081d8a9-fa69-46b7-ba28-397428c05ec1", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state_reliefs'::'retail' < 'Current Relief Type'::['Retail Discount']"}, {"uuid": "19e1d94f-8655-4556-9914-c23e1c1aef87", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state_reliefs'::'exempt' < 'Current Property Exemption Code'::['C', 'LOW RV', 'LAND']"}, {"uuid": "2d7a0ef1-56c3-4a13-8f21-b19f8fd0a97f", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state_reliefs'::'other' < 'Current Relief Type'::['Sports Club (Registered CASC)', 'Mandatory']"}, {"uuid": "09eb9674-aa35-4712-bec8-602b1e719310", "script": "ORDER_NEW > 'occupation_state_date' < ['Current Prop Exemption Start Date' + 'Current Prop Exemption Start Date', 'Current Relief Award Start Date' + 'Current Relief Award Start Date', 'Account Start date_x' + 'Account Start date_x', 'Account Start date_y' + 'Account Start date_y']"}], "checksum": "770918e9ca724e18a838306e50ad206e74ed84f77d68e85d5543cf0bad54c3f5d02a02831342466e17f52da25d28c71ccd0c65dcef458808e55cdd9546ff4d4c"}, "restructured_data": {"uuid": "65884c84-0e8c-4f7a-a63a-68ca6793a608", "path": "/mnt/c/users/turukawa/documents/github/sqwyre-assets/tests/restructured_test_method_b1c5fa77cfe4463aaa102a6ceddf1970.xlsx", "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", "columns": [{"uuid": "a234c1b5-610c-4352-9912-9de9110e5330", "name": "la_code"}, {"uuid": "9d758d2b-69a4-4887-8617-0191b9974aa8", "name": "ba_ref", "type": "number"}, {"uuid": "26fdbdb0-15d1-44cf-b766-4a713df0acc7", "name": "prop_ba_rates"}, {"uuid": "23dd741f-bab4-4f2f-9441-e46b5165959f", "name": "occupant_name"}, {"uuid": "5f24ad15-449e-4669-a535-c967215aa7b9", "name": "postcode"}, {"uuid": "e1bdb50a-777f-474b-b53c-c61bbb3846ed", "name": "occupation_state"}, {"uuid": "71856417-0cd8-4ae5-9036-87388dff794e", "name": "occupation_state_date"}, {"uuid": "254526f8-2a1e-46c3-8257-43be5354ba18", "name": "occupation_state_reliefs"}], "preserve": [{"uuid": "163fd8bb-bc73-44e3-9ef8-ef353345e04a", "name": "occupant_name"}, {"uuid": "a90e84e2-8a8b-4684-908a-b1a8aa0413fa", "name": "occupation_state_date"}, {"uuid": "90b2bf7b-a7b0-4b67-a31f-206de00f7a8c", "name": "prop_ba_rates"}, {"uuid": "521d0245-755e-49ba-9b46-1e8cc86ed3a5", "name": "postcode"}, {"uuid": "f3a2a29e-645a-47d8-82b0-ad9d99d95e2e", "name": "la_code"}, {"uuid": "fa3e9e01-507e-4485-a3f4-a7fb97710e25", "name": "occupation_state"}, {"uuid": "0d1ef80c-9bec-465c-84c5-b8b15983c411", "name": "occupation_state_reliefs"}], "checksum": "25591827b9b5ad69780dc1eea6121b4ec79f10b62f21268368c7faa5ca473ef3f613c72fea723875669d0fe8aa57c9e7890f1df5b13f922fc525c82c1239eb42"}, "version": [{"description": "Build merged data.", "updated": "2021-08-22T15:18:33.617611"}, {"description": "Build restructured data.", "updated": "2021-08-22T15:19:15.695145"}, {"name": "Gavin Chait", "description": "Save method.", "updated": "2021-08-22T15:19:15.695655"}]}
{"uuid": "33628ac5-3aee-4d84-ae59-ff68e4b5d451", "name": "test_method", "schema_fields": [{"uuid": "7ec211d7-68be-469d-8794-ca3f86efbcfe", "name": "la_code", "title": "Local authority code", "description": "Standard code for local authority.", "type": "string"}, {"uuid": "a8c65b56-fb06-4426-a300-a4fc1e51e16b", "name": "ba_ref", "title": "Billing reference", "description": "Unique code for a specific hereditament. May be multiple rows for history.", "type": "string"}, {"uuid": "fea23fb4-c3c3-45c3-b656-c7520e30d0cc", "name": "prop_ba_rates", "title": "Property billing rates", "description": "Actual rates paid by a specific ratepayer.", "type": "number"}, {"uuid": "80c6010b-960a-4c15-8672-6d62299908d5", "name": "occupant_name", "title": "Occupier name", "description": "Name of the ratepayer.", "type": "string"}, {"uuid": "a4af95d6-50a0-41db-9605-fb3e53912aee", "name": "postcode", "title": "Postcode", "description": "Full address or postcode of ratepayer.", "type": "string"}, {"uuid": "ac1e62f1-31fe-4d3f-afef-148079ab7da6", "name": "occupation_state", "title": "Occupation state", "description": "Occupation status, void or occupied.", "type": "boolean"}, {"uuid": "ff213fdc-028f-4140-b340-71e45c734f1c", "name": "occupation_state_date", "title": "Date of occupation state", "description": "Date of the start of status in occupation_state.", "type": "date"}, {"uuid": "f7805733-a479-4a8f-9ef7-4b3d2b16d08d", "name": "occupation_state_reliefs", "title": "Occupation state reliefs", "description": "Array of the categories of reliefs / exemptions applied.", "type": "array", "constraints": {"enum": [{"uuid": "265c294e-0b77-41c1-9779-de0c77286eba", "name": "small_business"}, {"uuid": "9d0256eb-89b9-4b4a-86ef-8fee5fb1c1ff", "name": "rural"}, {"uuid": "6580bd6c-a6ea-4210-b889-620c7ee3fe33", "name": "charity"}, {"uuid": "b35fbe0a-c209-4d2c-9dae-3eacff8a4f17", "name": "enterprise_zone"}, {"uuid": "3d93df34-a309-4910-a849-5b5f0cb7d532", "name": "vacancy"}, {"uuid": "ce7acea1-184e-47c0-9dc7-6ce4bd4531a2", "name": "hardship"}, {"uuid": "e68ef81c-cf4a-442c-a770-0511a6500b64", "name": "retail"}, {"uuid": "7f3ccd3d-8f06-4e2a-a67e-b4f4baf78676", "name": "discretionary"}, {"uuid": "b502a466-4f6c-4693-9977-7ffe9b308c9f", "name": "exempt"}, {"uuid": "58ee1e6c-f94f-4ffb-8a7c-1c6d3be1bfdf", "name": "transitional"}, {"uuid": "eca3bf18-8ff7-4385-8425-b30ffe71e3e3", "name": "other"}]}}], "input_data": [{"uuid": "dc234e6b-8ac7-4062-b519-0a4046a957bf", "path": "/mnt/c/users/turukawa/documents/github/whyqd/tests/data/raw_E06000044_014_0.XLSX", "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", "columns": [{"uuid": "da7595e4-b631-447e-bcc7-8ca8161f420b", "name": "Property Reference Number", "type": "number"}, {"uuid": "544b9fee-8e7c-4a9a-b0ca-a413fe0b9699", "name": "Primary Liable party name"}, {"uuid": "9cfdb3ef-091a-4fec-b805-61d178065fd0", "name": "Full Property Address"}, {"uuid": "6540ddec-973f-46f7-a005-811b4682587c", "name": "Current Relief Type"}, {"uuid": "4ddd1616-b522-4421-985a-06fdbdd167bc", "name": "Account Start date"}, {"uuid": "6d102786-90f5-4d5d-a5d1-fac8cdaee898", "name": "Current Relief Award Start Date"}, {"uuid": "1e8c1a1f-8d28-4cad-bf1f-64e193abaaca", "name": "Current Rateable Value", "type": "number"}], "key": {"uuid": "58e822df-3422-4885-a2ca-e419a2ea806f", "name": "Property Reference Number"}, "checksum": "b180bd9fe8c3b1025f433e0b3377fb9a738523b9c33eac5d62ed83c51883e1f64a3895edf0fc9e96a85a4130df3392177dff262963338971114aa4f5d1b0a70e"}, {"uuid": "16263a22-f3b1-49ca-b413-33a6ff3b801e", "path": "/mnt/c/users/turukawa/documents/github/whyqd/tests/data/raw_E06000044_014_1.XLSX", "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", "columns": [{"uuid": "91be928e-c42e-4f2c-af8d-a551f69c48ca", "name": "Property Reference Number", "type": "number"}, {"uuid": "629fe2fe-3d0b-4ed1-b780-6680fcfff566", "name": "Full Property Address"}, {"uuid": "c3353d54-293c-4474-9df7-1b674a6c350e", "name": "Current Property Exemption Code"}, {"uuid": "cec348fc-a215-4fbb-9a60-4002d70644c7", "name": "Current Prop Exemption Start Date"}, {"uuid": "42ec1e64-6b51-48b3-a628-8214e29267ff", "name": "Primary Liable party name"}, {"uuid": "9a2be84d-41fc-4439-98e6-01f2aff99613", "name": "Current Rateable Value", "type": "number"}], "key": {"uuid": "3ba7ae36-aea8-49df-bdf7-4eb64c0821e6", "name": "Property Reference Number"}, "checksum": "98e23e4eac6782873492181d6e4f3fcf308f1bb0fc47dc582c3fdf031c020a651d9f06f6510b21405c3f63b8d576a93a27bd2f3cc5b053d8d9022c884b57d3a3"}, {"uuid": "ed5b94cc-4b05-4ab6-b037-bde47c9a9e22", "path": "/mnt/c/users/turukawa/documents/github/whyqd/tests/data/raw_E06000044_014_2.XLSX", "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", "columns": [{"uuid": "0b0a884b-624c-4bc0-9150-48c79cc0f931", "name": "Property ref no", "type": "number"}, {"uuid": "52e223e3-c53a-40f5-84eb-879a9dcf40b5", "name": "Full Property Address"}, {"uuid": "bc2d0c57-0b22-4ffc-b06c-d724a80b18e4", "name": "Primary Liable party name"}, {"uuid": "2954b0e9-9d27-41ca-80c1-8d896416b729", "name": "Account Start date"}, {"uuid": "edf8525d-33a2-4f37-8de9-64fed9478502", "name": "Current Rateable Value", "type": "number"}], "key": {"uuid": "8c3578f9-c3f3-4cd2-ae34-aaaeb66068b4", "name": "Property ref no"}, "checksum": "9fd3d0df6cc1e0e58ab481ca9d46b68150b3b8d0c97148a00417af16025ba066e29a35994d0e4526edb1deda4c10b703df8f0dbcc23421dd6c0c0fd1a4c6b01c"}], "working_data": {"uuid": "4267a5ce-1bbc-443e-90b8-7367dd74c7f4", "path": "/mnt/c/users/turukawa/documents/github/sqwyre-assets/tests/working_test_method_33628ac53aee4d84ae59ff68e4b5d451.xlsx", "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", "columns": [{"uuid": "9126f02a-8565-4661-b877-6d5debf2cfc4", "name": "Property ref no", "type": "number"}, {"uuid": "8af3fc45-1ee8-4844-b1ac-8b1e8bcc73f3", "name": "Full Property Address_x"}, {"uuid": "a1406046-faee-4516-b3cb-9b72311726d0", "name": "Primary Liable party name_x"}, {"uuid": "7dea485a-95c5-4ffb-b412-c89a699833cb", "name": "Account Start date_x"}, {"uuid": "9f66b335-0a4b-4b1d-8b88-aff1500ea2f9", "name": "Current Rateable Value_x", "type": "number"}, {"uuid": "59576960-b318-4234-84b8-e6e3dfef2193", "name": "Full Property Address_y"}, {"uuid": "b1808549-6cb1-4c1a-a19f-ef68a2bf5d2d", "name": "Current Property Exemption Code"}, {"uuid": "bbe90f74-6a8a-4f34-b8b7-ee12727c12b7", "name": "Current Prop Exemption Start Date"}, {"uuid": "d85661e7-0ac0-4155-b06e-7630262663da", "name": "Primary Liable party name_y"}, {"uuid": "78dd1450-1ef7-47bc-ab71-17fa56343f96", "name": "Current Rateable Value_y", "type": "number"}, {"uuid": "225cfd33-113e-4700-be5f-360371403fa5", "name": "Primary Liable party name"}, {"uuid": "f45136ce-f1e5-4ee8-8abe-eabcac00f6c4", "name": "Full Property Address"}, {"uuid": "878ce5ce-6759-42f3-9e5c-fda0e1d3e905", "name": "Current Relief Type"}, {"uuid": "7a2579aa-1393-4e60-a14d-d2749e20f85d", "name": "Account Start date_y"}, {"uuid": "4dfcc822-bc04-4926-bdfe-14b8db7088e9", "name": "Current Relief Award Start Date"}, {"uuid": "5e595921-4028-418e-b308-7114b61db01d", "name": "Current Rateable Value", "type": "number"}], "preserve": [{"uuid": "18825360-a4fe-41ed-a47a-87d5ad252cc8", "name": "Full Property Address_x"}, {"uuid": "ecb494ba-8e8a-40c2-8da4-af0da59e13e1", "name": "Primary Liable party name_x"}, {"uuid": "bbf5e724-56bd-4283-a4d7-130ea8b5f8ef", "name": "Account Start date_x"}, {"uuid": "6ff2d8a4-4330-4276-9ad1-dc8adcf8e560", "name": "Full Property Address_y"}, {"uuid": "9bf9105d-a53a-4d6a-abb6-b0fa2528c9fb", "name": "Current Property Exemption Code"}, {"uuid": "8f931ab5-d5eb-4206-b0c4-82d005149176", "name": "Current Prop Exemption Start Date"}, {"uuid": "24f119d9-b45b-4392-8ca2-c746918520b2", "name": "Primary Liable party name_y"}, {"uuid": "748776ec-233d-41dc-a3bc-12d861666215", "name": "Primary Liable party name"}, {"uuid": "faa020e7-bdd5-46df-a9b7-f4a358891115", "name": "Full Property Address"}, {"uuid": "c9865225-7b58-46e4-9d31-e76f145945f1", "name": "Current Relief Type"}, {"uuid": "53f6caa1-6caa-4575-8d51-0dc6a5337422", "name": "Account Start date_y"}, {"uuid": "6ba20564-4f8c-4514-b1e3-acbe1cd93c68", "name": "Current Relief Award Start Date"}], "actions": [{"uuid": "59062cbb-a86e-49df-b55a-ababe15e5c09", "script": "MERGE < ['Property ref no'::'ed5b94cc4b054ab6b037bde47c9a9e22', 'Property Reference Number'::'16263a22f3b149cab41333a6ff3b801e', 'Property Reference Number'::'dc234e6b8ac74062b5190a4046a957bf']"}, {"uuid": "cb85af00-24cd-45ab-827e-9dc90b9d1e8b", "script": "NEW > 'la_code' < ['E06000044']"}, {"uuid": "ca02796e-f320-4dec-a9b2-8e6b491ee4d4", "script": "RENAME > 'ba_ref' < ['Property ref no']"}, {"uuid": "f4a1221e-e5ee-458f-820b-95003a8e11da", "script": "ORDER > 'prop_ba_rates' < ['Current Rateable Value_x', 'Current Rateable Value_y', 'Current Rateable Value']"}, {"uuid": "feaeb514-34ae-4f79-8132-ea48d945faf2", "script": "ORDER > 'occupant_name' < ['Primary Liable party name_x', 'Primary Liable party name_y', 'Primary Liable party name']"}, {"uuid": "d8b00d60-551f-46d9-8e59-ae3643b32006", "script": "ORDER > 'postcode' < ['Full Property Address_x', 'Full Property Address_y', 'Full Property Address']"}, {"uuid": "2eff23d3-b715-474d-b590-5c3ae742d2e0", "script": "CATEGORISE > 'occupation_state' < [+ 'Current Property Exemption Code', + 'Current Relief Type']"}, {"uuid": "fb396a20-3a7d-43ac-9c3e-fb31fd61473f", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state'::False < 'Current Property Exemption Code'::['EPRN', 'EPRI', 'VOID', 'EPCH', 'LIQUIDATE', 'DECEASED', 'PROHIBITED', 'BANKRUPT']"}, {"uuid": "1d1302fd-bc90-4917-9046-fd9344606710", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state'::False < 'Current Relief Type'::['Empty Property Rate Non-Industrial', 'Empty Property Rate Industrial', 'Empty Property Rate Charitable']"}, {"uuid": "ff619a9d-028b-45e8-b5e2-8a14f183a915", "script": "CATEGORISE > 'occupation_state_reliefs' < [+ 'Current Property Exemption Code', + 'Current Relief Type']"}, {"uuid": "784dbda9-2ff5-4ce1-a92f-f44fad873429", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state_reliefs'::'small_business' < 'Current Relief Type'::['Small Business Relief England', 'Sbre Extension For 12 Months', 'Supporting Small Business Relief']"}, {"uuid": "f912d607-198e-46ef-b42e-c44976713714", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state_reliefs'::'enterprise_zone' < 'Current Property Exemption Code'::['INDUSTRIAL']"}, {"uuid": "ea94c4b0-2ab6-4163-bcb7-77affd174c67", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state_reliefs'::'vacancy' < 'Current Property Exemption Code'::['EPRN', 'EPRI', 'VOID', 'EPCH', 'LIQUIDATE', 'DECEASED', 'PROHIBITED', 'BANKRUPT']"}, {"uuid": "c53e3627-7ac7-4712-bf13-3ab7c3a680eb", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state_reliefs'::'vacancy' < 'Current Relief Type'::['Empty Property Rate Non-Industrial', 'Empty Property Rate Industrial', 'Empty Property Rate Charitable']"}, {"uuid": "b58fbcc4-4443-40ec-8d7f-84fdee1f7977", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state_reliefs'::'retail' < 'Current Relief Type'::['Retail Discount']"}, {"uuid": "4cf08105-ee0d-423c-8dd2-e607c79c998f", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state_reliefs'::'exempt' < 'Current Property Exemption Code'::['C', 'LOW RV', 'LAND']"}, {"uuid": "466c6b8d-7e58-4a82-aed9-7fe288c07b06", "script": "ASSIGN_CATEGORY_UNIQUES > 'occupation_state_reliefs'::'other' < 'Current Relief Type'::['Sports Club (Registered CASC)', 'Mandatory']"}, {"uuid": "8a24b6e0-3962-4ff5-80cc-bf42b961c761", "script": "ORDER_NEW > 'occupation_state_date' < ['Current Prop Exemption Start Date' + 'Current Prop Exemption Start Date', 'Current Relief Award Start Date' + 'Current Relief Award Start Date', 'Account Start date_x' + 'Account Start date_x', 'Account Start date_y' + 'Account Start date_y']"}], "checksum": "770918e9ca724e18a838306e50ad206e74ed84f77d68e85d5543cf0bad54c3f5d02a02831342466e17f52da25d28c71ccd0c65dcef458808e55cdd9546ff4d4c"}, "restructured_data": {"uuid": "c9f26793-23aa-422c-90f7-d18ee221e6fa", "path": "/mnt/c/users/turukawa/documents/github/sqwyre-assets/tests/restructured_test_method_33628ac53aee4d84ae59ff68e4b5d451.xlsx", "mime": "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", "columns": [{"uuid": "caafab76-ef5f-4005-99e7-3e328ff221d4", "name": "prop_ba_rates"}, {"uuid": "34dd3103-bf6f-49ce-97db-dba257f3bbcb", "name": "postcode"}, {"uuid": "16e121ed-b6be-45e0-b687-c5b229ed08ec", "name": "ba_ref", "type": "number"}, {"uuid": "cc3bf93a-64dd-4ffd-a77a-f520ed355f14", "name": "la_code"}, {"uuid": "f39f74c1-dea7-4d7d-ac88-2af3de52c1c7", "name": "occupant_name"}, {"uuid": "74b3666e-cca8-4c38-86ca-579b894cd05e", "name": "occupation_state"}, {"uuid": "b8bbaac2-3c82-42cb-ac92-44d31bca898b", "name": "occupation_state_reliefs"}, {"uuid": "107a3690-8b0b-452f-8e90-d1a241cc5080", "name": "occupation_state_date"}], "preserve": [{"uuid": "ac3bfa01-cea1-46cc-a5f2-71704bd658f2", "name": "prop_ba_rates"}, {"uuid": "42322a66-0bcd-4e36-b269-cb082f5d6a76", "name": "postcode"}, {"uuid": "a4af80a1-b95b-43c4-95ab-1772c06a6f0e", "name": "la_code"}, {"uuid": "ede74653-39bc-46d2-a4fb-30ecd38a5cb3", "name": "occupant_name"}, {"uuid": "6ad95587-cdaf-44f7-b321-14b42eac7dd1", "name": "occupation_state"}, {"uuid": "03da58b1-1fa7-4bd8-be46-331e1bf89e0d", "name": "occupation_state_reliefs"}, {"uuid": "b88abeda-b75a-44e1-8b21-16e592bcc1d0", "name": "occupation_state_date"}], "checksum": "fb744a3a21d47fc247ab63eda3861f51af554e50db8051c2b908afe8a285a70bc4e5f8074e48a3c8ef4c15b1e117bb9222435868088f5bfd2469b1dee3fc7114"}, "version": [{"description": "Build merged data.", "updated": "2021-08-21T15:13:58.832446"}, {"description": "Build restructured data.", "updated": "2021-08-21T15:14:41.453922"}, {"name": "Gavin Chait", "description": "Save method.", "updated": "2021-08-21T15:14:41.454430"}]}
{
    "created": "2020-02-13",
    "description": "A test Schema",
    "directory": "/mnt/c/Users/Turukawa/Documents/GitHub/whyqd/tests/data/",
    "fields": [
        {
            "description": "Standard code for local authority.",
            "name": "la_code",
            "structure": [
                {
                    "description": "Create a new field and assign a set value.",
                    "name": "NEW",
                    "structure": [
                        "value"
                    ],
                    "title": "New",
                    "type": "action"
                },
                {
                    "type": "string",
                    "value": "E06000044"
                }
            ],
            "title": "Local authority code",
            "type": "string"
        },
        {
            "description": "Unique code for a specific hereditament. May be multiple rows for history.",
            "name": "ba_ref",
            "structure": [
                {
                    "description": "Use sparse data from a list of fields to populate a new field. Order is important, each successive field in the list have priority over the ones before it (e.g. for columns A, B & C, values in C will have precedence over values in B and A).",
                    "name": "ORDER",
                    "structure": [
                        "field"
                    ],
                    "title": "Order",
                    "type": "action"
                },
                {
                    "name": "Property Reference Number",
                    "type": "number"
                },
                {
                    "name": "Property ref no",
                    "type": "number"
                }
            ],
            "title": "Billing reference",
            "type": "string"
        },
        {
            "description": "Actual rates paid by a specific ratepayer.",
            "name": "prop_ba_rates",
            "structure": [
                {
                    "description": "Use sparse data from a list of fields to populate a new field. Order is important, each successive field in the list have priority over the ones before it (e.g. for columns A, B & C, values in C will have precedence over values in B and A).",
                    "name": "ORDER",
                    "structure": [
                        "field"
                    ],
                    "title": "Order",
                    "type": "action"
                },
                {
                    "name": "Current Rateable Value_x",
                    "type": "number"
                },
                {
                    "name": "Current Rateable Value_y",
                    "type": "number"
                },
                {
                    "name": "Current Rateable Value",
                    "type": "number"
                }
            ],
            "title": "Property billing rates",
            "type": "number"
        },
        {
            "description": "Name of the ratepayer.",
            "name": "occupant_name",
            "structure": [
                {
                    "description": "Use sparse data from a list of fields to populate a new field. Order is important, each successive field in the list have priority over the ones before it (e.g. for columns A, B & C, values in C will have precedence over values in B and A).",
                    "name": "ORDER",
                    "structure": [
                        "field"
                    ],
                    "title": "Order",
                    "type": "action"
                },
                {
                    "name": "Primary Liable party name_x",
                    "type": "string"
                },
                {
                    "name": "Primary Liable party name_y",
                    "type": "number"
                },
                {
                    "name": "Primary Liable party name",
                    "type": "number"
                }
            ],
            "title": "Occupier name",
            "type": "string"
        },
        {
            "description": "Full address or postcode of ratepayer.",
            "name": "postcode",
            "structure": [
                {
                    "description": "Use sparse data from a list of fields to populate a new field. Order is important, each successive field in the list have priority over the ones before it (e.g. for columns A, B & C, values in C will have precedence over values in B and A).",
                    "name": "ORDER",
                    "structure": [
                        "field"
                    ],
                    "title": "Order",
                    "type": "action"
                },
                {
                    "name": "Full Property Address_x",
                    "type": "string"
                },
                {
                    "name": "Full Property Address_y",
                    "type": "number"
                },
                {
                    "name": "Full Property Address",
                    "type": "number"
                }
            ],
            "title": "Postcode",
            "type": "string"
        },
        {
            "category": [
                {
                    "column": "Current Relief Type",
                    "terms": [
                        "Retail Discount",
                        "Small Business Relief England",
                        "Mandatory",
                        "Empty Property Rate Non-Industrial",
                        "Empty Property Rate Industrial",
                        "Supporting Small Business Relief",
                        "Sports Club (Registered CASC)",
                        "Sbre Extension For 12 Months",
                        "Empty Property Rate Charitable"
                    ]
                },
                {
                    "column": "Current Property Exemption Code",
                    "terms": [
                        "EPRN",
                        "EPRI",
                        "VOID",
                        "C",
                        "EPCH",
                        "LOW RV",
                        "INDUSTRIAL",
                        "ANCIENT",
                        "LISTED",
                        "LIQUIDATE",
                        "LAND",
                        "ADMIN",
                        "LA ACTION",
                        "DECEASED",
                        "PROHIBITED",
                        "BANKRUPT"
                    ]
                }
            ],
            "description": "Occupation status, void or occupied.",
            "name": "occupation_state",
            "structure": [
                {
                    "description": "Apply categories to a list of columns. Each field must have a modifier, including the first (e.g. +A -B +C). '-' modifier indicates presence/absence of values as true/false for a specific term. '+' modifier indicates that the unique terms in the field must be matched to the unique terms defined in the schema. This is a two-step process, first requiring listing the columns effected, then applying the terms.",
                    "modifiers": [
                        {
                            "name": "+",
                            "title": "Uniques",
                            "type": "modifier"
                        },
                        {
                            "name": "-",
                            "title": "Values",
                            "type": "modifier"
                        }
                    ],
                    "name": "CATEGORISE",
                    "structure": [
                        "modifier",
                        "field"
                    ],
                    "title": "Categorise",
                    "type": "action"
                },
                {
                    "name": "+",
                    "title": "Uniques",
                    "type": "modifier"
                },
                {
                    "name": "Current Property Exemption Code",
                    "type": "number"
                },
                {
                    "name": "+",
                    "title": "Uniques",
                    "type": "modifier"
                },
                {
                    "name": "Current Relief Type",
                    "type": "string"
                }
            ],
            "title": "Occupation state",
            "type": "boolean"
        },
        {
            "description": "Date of the start of status in occupation_state.",
            "name": "occupation_state_date",
            "structure": [
                {
                    "description": "Use sparse data from a list of fields to populate a new field order by most recent value. Field-pairs required, with the first containing the values, and the second the dates for comparison, linked by a '+' modifier (e.g. A+dA, B+dB, C+dC, values with the most recent associated date will have precedence over other values).",
                    "modifiers": [
                        {
                            "name": "+",
                            "title": "Links",
                            "type": "modifier"
                        }
                    ],
                    "name": "ORDER_NEW",
                    "structure": [
                        "field",
                        "modifier",
                        "field"
                    ],
                    "title": "Order by newest",
                    "type": "action"
                },
                {
                    "name": "Current Prop Exemption Start Date",
                    "type": "number"
                },
                {
                    "name": "+",
                    "title": "Links",
                    "type": "modifier"
                },
                {
                    "name": "Current Prop Exemption Start Date",
                    "type": "number"
                },
                {
                    "name": "Current Relief Award Start Date",
                    "type": "date"
                },
                {
                    "name": "+",
                    "title": "Links",
                    "type": "modifier"
                },
                {
                    "name": "Current Relief Award Start Date",
                    "type": "date"
                },
                {
                    "name": "Account Start date_x",
                    "type": "date"
                },
                {
                    "name": "+",
                    "title": "Links",
                    "type": "modifier"
                },
                {
                    "name": "Account Start date_x",
                    "type": "date"
                },
                {
                    "name": "Account Start date_y",
                    "type": "number"
                },
                {
                    "name": "+",
                    "title": "Links",
                    "type": "modifier"
                },
                {
                    "name": "Account Start date_y",
                    "type": "number"
                }
            ],
            "title": "Date of occupation state",
            "type": "date"
        },
        {
            "category": [
                {
                    "column": "Current Relief Type",
                    "terms": [
                        "Retail Discount",
                        "Small Business Relief England",
                        "Mandatory",
                        "Empty Property Rate Non-Industrial",
                        "Empty Property Rate Industrial",
                        "Supporting Small Business Relief",
                        "Sports Club (Registered CASC)",
                        "Sbre Extension For 12 Months",
                        "Empty Property Rate Charitable"
                    ]
                },
                {
                    "column": "Current Property Exemption Code",
                    "terms": [
                        "EPRN",
                        "EPRI",
                        "VOID",
                        "C",
                        "EPCH",
                        "LOW RV",
                        "INDUSTRIAL",
                        "ANCIENT",
                        "LISTED",
                        "LIQUIDATE",
                        "LAND",
                        "ADMIN",
                        "LA ACTION",
                        "DECEASED",
                        "PROHIBITED",
                        "BANKRUPT"
                    ]
                }
            ],
            "constraints": {
                "category": [
                    {
                        "name": "small_business"
                    },
                    {
                        "name": "rural"
                    },
                    {
                        "name": "charity"
                    },
                    {
                        "name": "enterprise_zone"
                    },
                    {
                        "name": "vacancy"
                    },
                    {
                        "name": "hardship"
                    },
                    {
                        "name": "retail"
                    },
                    {
                        "name": "discretionary"
                    },
                    {
                        "name": "exempt"
                    },
                    {
                        "name": "transitional"
                    },
                    {
                        "name": "other"
                    }
                ]
            },
            "description": "Array of the categories of reliefs / exemptions applied.",
            "name": "occupation_state_reliefs",
            "structure": [
                {
                    "description": "Apply categories to a list of columns. Each field must have a modifier, including the first (e.g. +A -B +C). '-' modifier indicates presence/absence of values as true/false for a specific term. '+' modifier indicates that the unique terms in the field must be matched to the unique terms defined in the schema. This is a two-step process, first requiring listing the columns effected, then applying the terms.",
                    "modifiers": [
                        {
                            "name": "+",
                            "title": "Uniques",
                            "type": "modifier"
                        },
                        {
                            "name": "-",
                            "title": "Values",
                            "type": "modifier"
                        }
                    ],
                    "name": "CATEGORISE",
                    "structure": [
                        "modifier",
                        "field"
                    ],
                    "title": "Categorise",
                    "type": "action"
                },
                {
                    "name": "+",
                    "title": "Uniques",
                    "type": "modifier"
                },
                {
                    "name": "Current Property Exemption Code",
                    "type": "number"
                },
                {
                    "name": "+",
                    "title": "Uniques",
                    "type": "modifier"
                },
                {
                    "name": "Current Relief Type",
                    "type": "string"
                }
            ],
            "title": "Occupation state reliefs",
            "type": "array"
        }
    ],
    "input_data": [
        {
            "checksum": "a41b4eb629c249fd59e6816d10d113bf2b9594c7dd7f9a61a82333a8a41bf07e59f9104eb3c1dc4269607de5a4a12eaf3215d0afc7545fdb1dfe7fe1bf5e0d29",
            "columns": [
                {
                    "name": "Property Reference Number",
                    "type": "number"
                },
                {
                    "name": "Primary Liable party name",
                    "type": "string"
                },
                {
                    "name": "Full Property Address",
                    "type": "string"
                },
                {
                    "name": "Current Relief Type",
                    "type": "string"
                },
                {
                    "name": "Account Start date",
                    "type": "date"
                },
                {
                    "name": "Current Relief Award Start Date",
                    "type": "date"
                },
                {
                    "name": "Current Rateable Value",
                    "type": "number"
                }
            ],
            "dataframe": {
                "Account Start date": {
                    "0": "2003-05-14 00:00:00",
                    "1": "2003-07-28 00:00:00",
                    "2": "2003-07-08 00:00:00"
                },
                "Current Rateable Value": {
                    "0": 8600,
                    "1": 9900,
                    "2": 6400
                },
                "Current Relief Award Start Date": {
                    "0": "2019-04-01 00:00:00",
                    "1": "2005-04-01 00:00:00",
                    "2": "2005-04-01 00:00:00"
                },
                "Current Relief Type": {
                    "0": "Retail Discount",
                    "1": "Small Business Relief England",
                    "2": "Small Business Relief England"
                },
                "Full Property Address": {
                    "0": "Ground Floor, 25, Albert Road, Southsea, Hants, PO5 2SE",
                    "1": "Ground Floor, 102, London Road, Portsmouth, PO2 0LZ",
                    "2": "33, Festing Road, Southsea, Hants, PO4 0NG"
                },
                "Primary Liable party name": {
                    "0": "Personal details not supplied",
                    "1": "Personal details not supplied",
                    "2": "Personal details not supplied"
                },
                "Property Reference Number": {
                    "0": 177500080710,
                    "1": 177504942310,
                    "2": 177502823510
                }
            },
            "file": "c8944fed-4e8c-4cbd-807d-53fcc96b7018.XLSX",
            "id": "c8944fed-4e8c-4cbd-807d-53fcc96b7018",
            "key": "Property Reference Number",
            "original": "raw_E06000044_014_0.XLSX"
        },
        {
            "checksum": "892ec5b6e9b1f68e0b371bbaed8d93095d57f2b656753af2b279aee17b5854c5e9d731b2795aac285d7f7d9f5991311bc8fae0cfe5446a47163f30f0314cac06",
            "columns": [
                {
                    "name": "Property Reference Number",
                    "type": "number"
                },
                {
                    "name": "Full Property Address",
                    "type": "string"
                },
                {
                    "name": "Current Property Exemption Code",
                    "type": "string"
                },
                {
                    "name": "Current Prop Exemption Start Date",
                    "type": "date"
                },
                {
                    "name": "Primary Liable party name",
                    "type": "string"
                },
                {
                    "name": "Current Rateable Value",
                    "type": "number"
                }
            ],
            "dataframe": {
                "Current Prop Exemption Start Date": {
                    "0": "2019-11-08 00:00:00",
                    "1": "2019-09-23 00:00:00",
                    "2": "2019-09-13 00:00:00"
                },
                "Current Property Exemption Code": {
                    "0": "LOW RV",
                    "1": "INDUSTRIAL",
                    "2": "EPRI"
                },
                "Current Rateable Value": {
                    "0": 700,
                    "1": 11000,
                    "2": 26500
                },
                "Full Property Address": {
                    "0": "Advertising Right, 29 Albert Road, Portsmouth, PO5 2SE",
                    "1": "24, Ordnance Court, Ackworth Road, Portsmouth, PO3 5RZ",
                    "2": "Unit 12, Admiral Park, Airport Service Road, Portsmouth, PO3 5RQ"
                },
                "Primary Liable party name": {
                    "0": "Personal details not supplied",
                    "1": "Personal details not supplied",
                    "2": "Legal & General Property Partners (Industrial Fund) Ltd"
                },
                "Property Reference Number": {
                    "0": 177512281010,
                    "1": 177590107810,
                    "2": 177500058410
                }
            },
            "file": "a9ad7716-f777-4752-8627-dd6206bede65.XLSX",
            "id": "a9ad7716-f777-4752-8627-dd6206bede65",
            "key": "Property Reference Number",
            "original": "raw_E06000044_014_1.XLSX"
        },
        {
            "checksum": "476089d8f37581613344873068d6e94f8cd63a1a64b421edf374a2b341bc7563aff03b86db4d3fec8ca90ce150ba1e531e3ff0d374f932d13fc103fd709e01bd",
            "columns": [
                {
                    "name": "Property ref no",
                    "type": "number"
                },
                {
                    "name": "Full Property Address",
                    "type": "string"
                },
                {
                    "name": "Primary Liable party name",
                    "type": "string"
                },
                {
                    "name": "Account Start date",
                    "type": "date"
                },
                {
                    "name": "Current Rateable Value",
                    "type": "number"
                }
            ],
            "dataframe": {
                "Account Start date": {
                    "0": "2003-11-10 00:00:00",
                    "1": "2003-11-08 00:00:00",
                    "2": "1994-12-25 00:00:00"
                },
                "Current Rateable Value": {
                    "0": 37000,
                    "1": 594000,
                    "2": 13250
                },
                "Full Property Address": {
                    "0": "Unit 7b, The Pompey Centre, Dickinson Road, Southsea, Hants, PO4 8SH",
                    "1": "Express By Holiday Inn, The Plaza, Gunwharf Quays, Portsmouth, PO1 3FD",
                    "2": "Unit 2cd, Shawcross Industrial Estate, Ackworth Road, Portsmouth, PO3 5JP"
                },
                "Primary Liable party name": {
                    "0": "City Electrical Factors  Ltd",
                    "1": "Kew Green Hotels (Portsmouth Lrg1) Limited",
                    "2": "Personal details not supplied"
                },
                "Property ref no": {
                    "0": 177200066910,
                    "1": 177209823010,
                    "2": 177500013310
                }
            },
            "file": "1e5a165d-5e83-4eec-9781-d450a1d3f5f1.XLSX",
            "id": "1e5a165d-5e83-4eec-9781-d450a1d3f5f1",
            "key": "Property ref no",
            "original": "raw_E06000044_014_2.XLSX"
        }
    ],
    "name": "test_method",
    "status": "READY_STRUCTURE",
    "title": "Test Schema",
    "updated": "2020-02-13",
    "working_data": {
        "checksum": "afb8b2b8e2c59f57a32f5341dc1ea1877f036407b9a891ca00709372c7f6542c0b3c2edd02661f96e61f20cc77e8bf06689e9c7028179af7d8f6c60460e75f0c",
        "columns": [
            {
                "name": "Property Reference Number",
                "type": "number"
            },
            {
                "name": "Primary Liable party name_x",
                "type": "string"
            },
            {
                "name": "Full Property Address_x",
                "type": "string"
            },
            {
                "name": "Current Relief Type",
                "type": "string"
            },
            {
                "name": "Account Start date_x",
                "type": "date"
            },
            {
                "name": "Current Relief Award Start Date",
                "type": "date"
            },
            {
                "name": "Current Rateable Value_x",
                "type": "number"
            },
            {
                "name": "Full Property Address_y",
                "type": "number"
            },
            {
                "name": "Current Property Exemption Code",
                "type": "number"
            },
            {
                "name": "Current Prop Exemption Start Date",
                "type": "number"
            },
            {
                "name": "Primary Liable party name_y",
                "type": "number"
            },
            {
                "name": "Current Rateable Value_y",
                "type": "number"
            },
            {
                "name": "Property ref no",
                "type": "number"
            },
            {
                "name": "Full Property Address",
                "type": "number"
            },
            {
                "name": "Primary Liable party name",
                "type": "number"
            },
            {
                "name": "Account Start date_y",
                "type": "number"
            },
            {
                "name": "Current Rateable Value",
                "type": "number"
            }
        ],
        "dataframe": {
            "Account Start date_x": {
                "0": "2003-05-14 00:00:00",
                "1": "2003-07-28 00:00:00",
                "2": "2003-07-08 00:00:00"
            },
            "Account Start date_y": {
                "0": NaN,
                "1": NaN,
                "2": NaN
            },
            "Current Prop Exemption Start Date": {
                "0": NaN,
                "1": NaN,
                "2": NaN
            },
            "Current Property Exemption Code": {
                "0": NaN,
                "1": NaN,
                "2": NaN
            },
            "Current Rateable Value": {
                "0": NaN,
                "1": NaN,
                "2": NaN
            },
            "Current Rateable Value_x": {
                "0": 8600,
                "1": 9900,
                "2": 6400
            },
            "Current Rateable Value_y": {
                "0": NaN,
                "1": NaN,
                "2": NaN
            },
            "Current Relief Award Start Date": {
                "0": "2019-04-01 00:00:00",
                "1": "2005-04-01 00:00:00",
                "2": "2005-04-01 00:00:00"
            },
            "Current Relief Type": {
                "0": "Retail Discount",
                "1": "Small Business Relief England",
                "2": "Small Business Relief England"
            },
            "Full Property Address": {
                "0": NaN,
                "1": NaN,
                "2": NaN
            },
            "Full Property Address_x": {
                "0": "Ground Floor, 25, Albert Road, Southsea, Hants, PO5 2SE",
                "1": "Ground Floor, 102, London Road, Portsmouth, PO2 0LZ",
                "2": "33, Festing Road, Southsea, Hants, PO4 0NG"
            },
            "Full Property Address_y": {
                "0": NaN,
                "1": NaN,
                "2": NaN
            },
            "Primary Liable party name": {
                "0": NaN,
                "1": NaN,
                "2": NaN
            },
            "Primary Liable party name_x": {
                "0": "Personal details not supplied",
                "1": "Personal details not supplied",
                "2": "Personal details not supplied"
            },
            "Primary Liable party name_y": {
                "0": NaN,
                "1": NaN,
                "2": NaN
            },
            "Property Reference Number": {
                "0": 177500080710,
                "1": 177504942310,
                "2": 177502823510
            },
            "Property ref no": {
                "0": NaN,
                "1": NaN,
                "2": NaN
            }
        },
        "file": "eceb313a-8d11-4e77-a08a-e758bdb9ec39.xlsx",
        "id": "eceb313a-8d11-4e77-a08a-e758bdb9ec39"
    }
}


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Method &mdash; whyqd 0.5.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Actions" href="action_api.html" />
    <link rel="prev" title="Schema" href="schema_api.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> whyqd
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Dependencies, installation &amp; importing</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_local_government_data.html">Tutorial: Local government data</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_cthulhu_data.html">Tutorial: Cthulhu data</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Distribution &amp; Citation of methods and data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Creating and managing Schemas</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="schema.html">Schema</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Wrangling with Methods</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="method.html">Method</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Validate an existing Method</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="validate.html">Validate</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">What next?</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Background and Contributing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="schema_api.html">Schema</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_api.html">Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="validate_api.html">Validate</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">whyqd</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Method</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/method_api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="method">
<h1>Method<a class="headerlink" href="#method" title="Permalink to this headline">¶</a></h1>
<p>The <cite>Method</cite> class defines a wrangling process to restructure input data into a format defined by a <a class="reference internal" href="schema.html"><span class="doc">Schema</span></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="whyqd.method.method.Method">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">whyqd.method.method.</span></span><span class="sig-name descname"><span class="pre">Method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="schema_api.html#whyqd.schema.schema.Schema" title="whyqd.schema.schema.Schema"><span class="pre">whyqd.schema.schema.Schema</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">whyqd.models.method_model.MethodModel</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#whyqd.method.method.Method" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and manage a method to perform a wrangling process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – Working path for creating methods, interim data files and final output</p></li>
<li><p><strong>source</strong> (<em>str</em>) – Path to a json file containing a saved schema, default is None</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="whyqd.method.method.Method.describe">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">describe</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional[Dict[str,</span> <span class="pre">None]]</span></em><a class="headerlink" href="#whyqd.method.method.Method.describe" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the method name, title and description.</p>
<blockquote>
<div><ul class="simple">
<li><p>name: Term used for filename and referencing. Will be lower-cased and spaces replaced with <cite>_</cite></p></li>
<li><p>title: Human-readable term used as name.</p></li>
<li><p>description: Detailed description for the method. Reference its objective and use-case.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="whyqd.method.method.Method.get">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">get</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional[whyqd.models.method_model.MethodModel]</span></em><a class="headerlink" href="#whyqd.method.method.Method.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the method model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>MethodModel or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">whyqd.models.method_model.MethodModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Update or create the method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>method</strong> (<em>MethodModel</em>) – A dictionary conforming to the MethodModel.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.add_data">
<span class="sig-name descname"><span class="pre">add_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">whyqd.models.datasource_model.DataSourceModel</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">whyqd.models.datasource_model.DataSourceModel</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.add_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide either a path string, list of path strings, or a dictionary conforming to the DataSourceModel data
for wrangling.</p>
<p>If conforming to the DataSourceModel, each source dictionary requires the minimum of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;path/to/source/file&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>An optional <cite>citation</cite> conforming to <cite>CitationModel</cite> can also be provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>source</strong> (<em>str</em><em>, </em><em>list of str</em><em>, </em><em>DataSourceModel</em><em>, or </em><em>list of DataSourceModel</em>) – A dictionary conforming to the DataSourceModel. Each path can be to a filename, or a url.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.remove_data">
<span class="sig-name descname"><span class="pre">remove_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uid</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">uuid.UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.remove_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an input data source defined by its source uuid4.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can remove references to individual sheets of a data source if you provide <cite>sheet_name</cite>. If not,
the entire data source will be removed.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uid</strong> (<em>UUID</em>) – Unique uuid4 for an input data source. View all input data from method <cite>input_data</cite>.</p></li>
<li><p><strong>sheet_name</strong> (<em>str</em><em>, </em><em>default None</em>) – If the data source has multiple sheets, provide the specific sheet to remove, or - by default - the entire
data source will be removed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.update_data">
<span class="sig-name descname"><span class="pre">update_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">whyqd.models.datasource_model.DataSourceModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">uuid.UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.update_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Update an existing data source.</p>
<p>Can be used to modify which columns are to be preserved, or other specific changes.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You can only modify the following definitions: <cite>names</cite>, <cite>preserve</cite>, <cite>citation</cite>. Attempting to
change any other definitions will raise an exception. Remove the source data instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>DataSourceModel</em>) – A dictionary conforming to the DataSourceModel. Each path can be to a filename, or a url.</p></li>
<li><p><strong>uid</strong> (<em>UUID</em>) – Unique uuid4 for an input data source. View all input data from method <cite>input_data</cite>.</p></li>
<li><p><strong>sheet_name</strong> (<em>str</em><em>, </em><em>default None</em>) – If the data source has multiple sheets, provide the specific sheet to update.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError if a sheet_name exists without a sheet_name being provided.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.reorder_data">
<span class="sig-name descname"><span class="pre">reorder_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">uuid.UUID</span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">uuid.UUID</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.reorder_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorder a list of source data prior to merging them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>order</strong> (<em>list of UUID</em><em> or </em><em>tuples of UUID</em><em>, </em><em>str</em>) – Either a list of UUIDs, or tuples of hexed UUIDs and sheet_names, e.g. (‘uuid.hex’, ‘sheet_name’)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError if the list of uuid4s doesn't conform to that in the list of source data.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.add_actions">
<span class="sig-name descname"><span class="pre">add_actions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actions</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">uuid.UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.add_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an action script to a data source specified by its uid and optional sheet name.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Morph-type ACTIONS (such as ‘REBASE’, ‘PIVOT_LONGER’, and ‘PIVOT_WIDER’) change the header-row
column names, and - with that - any of your subsequent referencing that relies on these names. It is
best to run your morphs first, then your schema ACTIONS, that way you won’t get any weird referencing
errors. If column errors do arise, check your ACTION ordering.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actions</strong> (<em>str</em><em> or </em><em>list of str</em>) – An action script.</p></li>
<li><p><strong>uid</strong> (<em>UUID</em>) – Unique uuid4 for a either an input or interim data source.</p></li>
<li><p><strong>sheet_name</strong> (<em>str</em><em>, </em><em>default None</em>) – If the data source has multiple sheets, provide the specific sheet to update.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.remove_action">
<span class="sig-name descname"><span class="pre">remove_action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uid</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">uuid.UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_uid</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">uuid.UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.remove_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an action from a data source defined by its source uuid4. Raises an exception of sheet_name
applies to that data source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uid</strong> (<em>UUID</em>) – Unique uuid4 for a either an input or interim data source.</p></li>
<li><p><strong>action_uid</strong> (<em>UUID</em>) – Unique uuid4 for an action.</p></li>
<li><p><strong>sheet_name</strong> (<em>str</em><em>, </em><em>default None</em>) – If the data source has multiple sheets, provide the specific sheet to update.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError if a sheet_name exists without a sheet_name being provided.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.update_action">
<span class="sig-name descname"><span class="pre">update_action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uid</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">uuid.UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_uid</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">uuid.UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.update_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Update an action from a list of actions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uid</strong> (<em>UUID</em>) – Unique uuid4 for a either an input or interim data source.</p></li>
<li><p><strong>action_uid</strong> (<em>UUID</em>) – Unique uuid4 for an action.</p></li>
<li><p><strong>action</strong> (<em>str</em>) – An updated action script.</p></li>
<li><p><strong>sheet_name</strong> (<em>str</em><em>, </em><em>default None</em>) – If the data source has multiple sheets, provide the specific sheet to update.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.reorder_actions">
<span class="sig-name descname"><span class="pre">reorder_actions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uid</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">uuid.UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">uuid.UUID</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.reorder_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorder a list of actions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uid</strong> (<em>UUID</em>) – Unique uuid4 for a either an input or interim data source.</p></li>
<li><p><strong>sheet_name</strong> (<em>str</em><em>, </em><em>default None</em>) – If the data source has multiple sheets, provide the specific sheet to update.</p></li>
<li><p><strong>order</strong> (<em>list of UUID</em>) – List of uuid4 action strings.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError if the list of uuid4s doesn't conform to that in the list of actions.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">script</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge input data to generate any required interim data. Will perform all actions on each interim data source.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Merging, or an interim data source, are not required to produce a schema-defined destination data
output.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is only so much hand-holding possible:
* If an interim data source already exists, and has existing actions, this function will reset the
action list, placing this <cite>script</cite> first.
* If further actions are added to input data, this function must be run again.
* The first two points are, obviously, detrimental to each other.
* And then there are ‘filters’ which are intrinsically destructive.</p>
</div>
<p>Merge script is of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;MERGE &lt; [&#39;key_column&#39;::&#39;source_hex&#39;::&#39;sheet_name&#39;, etc.]&quot;</span>
</pre></div>
</div>
<p>Where the source terms are in order for merging.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>script</strong> (<em>str</em>) – Merge script, as defined.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">whyqd.models.datasource_model.DataSourceModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a transformed DataFrame after performing assigned action scripts, in order, to transform
a data source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>DataSourceModel</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.build">
<span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge input data to generate any required interim data. Will perform all actions on each interim data source.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Merging, or an interim data source, are not required to produce a schema-defined destination data
output.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is only so much hand-holding possible:
* If an interim data source already exists, and has existing actions, this function will reset the
action list, placing this <cite>script</cite> first.
* If further actions are added to input data, this function must be run again.
* The first two points are, obviously, detrimental to each other.
* And then there are ‘filters’ which are intrinsically destructive.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the build process and all data checksums. Will perform all actions on each interim data source.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if any steps fail to validate.</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.get_citation">
<span class="sig-name descname"><span class="pre">get_citation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#whyqd.method.method.Method.get_citation" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the citation as a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if no citation has been declared</strong><strong> or </strong><strong>the build is incomplete.</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.set_citation">
<span class="sig-name descname"><span class="pre">set_citation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">citation</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">whyqd.models.citation_model.CitationModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.set_citation" title="Permalink to this definition">¶</a></dt>
<dd><p>Update or create the citation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>citation</strong> (<em>CitationModel</em>) – A dictionary conforming to the CitationModel.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.get_json">
<span class="sig-name descname"><span class="pre">get_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hide_uuid</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pydantic.types.Json</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#whyqd.method.method.Method.get_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the json method model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hide_uuid</strong> (<em>str</em><em>, </em><em>default False</em>) – Hide all UUIDs in the nested JSON output.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Json or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whyqd.method.method.Method.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">created_by</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hide_uuid</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#whyqd.method.method.Method.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save schema as a json file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – Defaults to working directory</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – Defaults to schema name</p></li>
<li><p><strong>created_by</strong> (<em>string</em><em>, </em><em>default is None</em>) – Declare the schema creator/updater</p></li>
<li><p><strong>hide_uuid</strong> (<em>str</em><em>, </em><em>default False</em>) – Hide all UUIDs in the nested JSON output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool True if saved</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="action_api.html" class="btn btn-neutral float-right" title="Actions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="schema_api.html" class="btn btn-neutral float-left" title="Schema" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Gavin Chait.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
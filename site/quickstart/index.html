
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Data wrangling simplicity, complete audit transparency, and at speed">
      
      
        <meta name="author" content="Gavin Chait">
      
      
        <link rel="canonical" href="https://whyqd.readthedocs.io/quickstart/">
      
      
        <link rel="prev" href="../installation/">
      
      
        <link rel="next" href="../strategies/curation/">
      
      <link rel="icon" href="../assets/temp-logo.svg">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.9">
    
    
      
        <title>Quick start - Whyqd</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.85bb2934.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a6bdf11c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quick-start" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Whyqd" class="md-header__button md-logo" aria-label="Whyqd" data-md-component="logo">
      
  <img src="../assets/temp-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Whyqd
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quick start
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/whythawk/whyqd" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    whythawk/whyqd
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Whyqd" class="md-nav__button md-logo" aria-label="Whyqd" data-md-component="logo">
      
  <img src="../assets/temp-logo.svg" alt="logo">

    </a>
    Whyqd
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/whythawk/whyqd" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    whythawk/whyqd
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Install
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Quick start
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Quick start
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#define-a-schema-model" class="md-nav__link">
    Define a schema model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#derive-a-source-schema-from-data" class="md-nav__link">
    Derive a source schema from data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crosswalk-scripting-language" class="md-nav__link">
    Crosswalk scripting language
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transforms-and-validations" class="md-nav__link">
    Transforms and validations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next steps
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Strategies
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Strategies
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../strategies/curation/" class="md-nav__link">
        Curation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../strategies/schema/" class="md-nav__link">
        Schema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../strategies/datasource/" class="md-nav__link">
        Data source
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../strategies/crosswalk/" class="md-nav__link">
        Crosswalks
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/tutorial1/" class="md-nav__link">
        Multiple sources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/tutorial2/" class="md-nav__link">
        Pivoting to long
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/tutorial3/" class="md-nav__link">
        Cthulhu data
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Definitions API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Definitions API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/schema/" class="md-nav__link">
        SchemaDefinition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/field/" class="md-nav__link">
        CRUDField
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/datasource/" class="md-nav__link">
        DataSourceDefinition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/crosswalk/" class="md-nav__link">
        CrosswalkDefinition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/action/" class="md-nav__link">
        CRUDAction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/transform/" class="md-nav__link">
        TransformDefinition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/base/" class="md-nav__link">
        BaseDefinition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/basecrud/" class="md-nav__link">
        CRUDBase
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Actions API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Actions API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/calculate/" class="md-nav__link">
        CALCULATE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/categorise/" class="md-nav__link">
        CATEGORISE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/deblank/" class="md-nav__link">
        DEBLANK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/dedupe/" class="md-nav__link">
        DEDUPE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/delete_rows/" class="md-nav__link">
        DELETE_ROWS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/new/" class="md-nav__link">
        NEW
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/pivot_categories/" class="md-nav__link">
        PIVOT_CATEGORIES
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/pivot_longer/" class="md-nav__link">
        PIVOT_LONGER
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/rename/" class="md-nav__link">
        RENAME
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/select/" class="md-nav__link">
        SELECT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/select_newest/" class="md-nav__link">
        SELECT_NEWEST
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/select_oldest/" class="md-nav__link">
        SELECT_OLDEST
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/separate/" class="md-nav__link">
        SEPARATE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/unite/" class="md-nav__link">
        UNITE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        Contributing to whyqd
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#define-a-schema-model" class="md-nav__link">
    Define a schema model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#derive-a-source-schema-from-data" class="md-nav__link">
    Derive a source schema from data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crosswalk-scripting-language" class="md-nav__link">
    Crosswalk scripting language
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transforms-and-validations" class="md-nav__link">
    Transforms and validations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next steps
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="quick-start">Quick start<a class="headerlink" href="#quick-start" title="Permanent link">&para;</a></h1>
<p><strong>whyqd</strong> (/wɪkɪd/) reduces crosswalks to a series of action scripts, each defining an individual step which must be 
performed to restructure source- into a destination data.</p>
<p>Your workflow is:</p>
<ol>
<li>Define a single destination schema,</li>
<li>Derive a source schema from a data source,</li>
<li>Review your source data structure,</li>
<li>Develop a crosswalk to define the relationship between source and destination,</li>
<li>Transform and validate your outputs,</li>
<li>Share your output data, transform definitions, and a citation.</li>
</ol>
<div class="admonition abstract">
<p class="admonition-title">Quick links</p>
<ul>
<li><a href="/api/schema">Define a schema model</a></li>
<li><a href="/api/datasource">Derive a schema from a datasource</a></li>
<li><a href="/api/crosswalk">Define a crosswalk to link source to destination</a></li>
<li><a href="/api/transform">Process your transform</a></li>
</ul>
</div>
<h2 id="define-a-schema-model">Define a schema model<a class="headerlink" href="#define-a-schema-model" title="Permanent link">&para;</a></h2>
<p>Assume you want you destination schema to conform to this table structure:</p>
<table>
<thead>
<tr>
<th align="left">la_code</th>
<th align="left">ba_ref</th>
<th align="left">occupant_name</th>
<th align="left">postcode</th>
<th align="left">occupation_state</th>
<th align="left">occupation_state_date</th>
<th align="left">prop_ba_rates</th>
<th align="left">occupation_state_reliefs</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">E06000044</td>
<td align="left">177500080710</td>
<td align="left">A company</td>
<td align="left">PO5 2SE</td>
<td align="left">True</td>
<td align="left">2019-04-01</td>
<td align="left">98530</td>
<td align="left">[small_business, retail]</td>
</tr>
</tbody>
</table>
<p>Define your model as follows:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">whyqd</span> <span class="k">as</span> <span class="nn">qd</span>

<span class="n">schema</span><span class="p">:</span> <span class="n">qd</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">SchemaModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;rates_data&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Commercial rates data&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Standardised schema for archival and analysis of commercial / non-domestic rates data.&quot;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">qd</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">FieldModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;la_code&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Local authority code&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Standard code for local authority.&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;ba_ref&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Billing reference&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Unique code for a specific hereditament. May be multiple rows for history.&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;prop_ba_rates&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Property billing rates&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;number&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Actual rates paid by a specific ratepayer.&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;occupant_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Occupier name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of the ratepayer.&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;postcode&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Postcode&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Full address or postcode of ratepayer.&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;occupation_state&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Occupation state&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Occupation status, void or occupied.&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;occupation_state_date&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Date of occupation state&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Date of the start of status in occupation_state.&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;occupation_state_reliefs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Occupation state reliefs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Array of the categories of reliefs / exemptions applied.&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
<span class="n">schema_destination</span> <span class="o">=</span> <span class="n">qd</span><span class="o">.</span><span class="n">SchemaDefinition</span><span class="p">()</span>
<span class="n">schema_destination</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">)</span>
<span class="n">schema_destination</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">add_multi</span><span class="p">(</span><span class="n">terms</span><span class="o">=</span><span class="n">fields</span><span class="p">)</span>
<span class="n">schema_destination</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div>
<div class="admonition abstract">
<p class="admonition-title">Strategy quick links</p>
<ul>
<li><a href="/strategies/schema">Schema</a></li>
<li><a href="/api/field">Fields</a></li>
</ul>
</div>
<h2 id="derive-a-source-schema-from-data">Derive a source schema from data<a class="headerlink" href="#derive-a-source-schema-from-data" title="Permanent link">&para;</a></h2>
<p>Assume we have multiple data sources with a variety of formats. One could be this:</p>
<p><img alt="Semi-ideal primary source data" src="/images/ideal-primary-data.png" /></p>
<p>We import it from <code>DATASOURCE_PATH</code>, define its <code>MIMETYPE</code>, and derive a schema:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">whyqd</span> <span class="k">as</span> <span class="nn">qd</span>

<span class="n">datasource</span> <span class="o">=</span> <span class="n">qd</span><span class="o">.</span><span class="n">DataSourceDefinition</span><span class="p">()</span>
<span class="n">datasource</span><span class="o">.</span><span class="n">derive_model</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">DATASOURCE_PATH</span><span class="p">,</span> <span class="n">mimetype</span><span class="o">=</span><span class="n">MIMETYPE</span><span class="p">)</span>
<span class="n">schema_source</span> <span class="o">=</span> <span class="n">qd</span><span class="o">.</span><span class="n">SchemaDefinition</span><span class="p">()</span>
<span class="n">schema_source</span><span class="o">.</span><span class="n">derive_model</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">datasource</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
<span class="n">schema_source</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">set_categories</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">CATEGORY_FIELD</span><span class="p">,</span> 
                                    <span class="n">terms</span><span class="o">=</span><span class="n">datasource</span><span class="o">.</span><span class="n">get_data</span><span class="p">())</span>
<span class="n">schema_source</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div>
<p>Where the <code>CATEGORY_FIELD</code> is a <code>string</code> which identifies which data model column you want to get categorical terms from.
This will identify all the unique terms in that table column and assign them as categorical terms to the field.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p><strong>whyqd</strong> supports any of the following file mime types:</p>
<ul>
<li><code>CSV</code>: "text/csv"</li>
<li><code>XLS</code>: "application/vnd.ms-excel"</li>
<li><code>XLSX</code>: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"</li>
<li><code>PARQUET</code> (or <code>PRQ</code>): "application/vnd.apache.parquet"</li>
<li><code>FEATHER</code> (or <code>FTR</code>): "application/vnd.apache.feather"</li>
</ul>
<p>Specify the mime type as a text string, uppper- or lower-case. Neither of
<a href="https://parquet.apache.org/docs/overview/">Parquet</a> or <a href="https://arrow.apache.org/docs/python/feather.html">Feather</a>
yet have official mimetypes, so this is what we're using for now.</p>
</div>
<div class="admonition abstract">
<p class="admonition-title">Strategy quick links</p>
<ul>
<li><a href="/strategies/datasource">Datasource</a></li>
</ul>
</div>
<h2 id="crosswalk-scripting-language">Crosswalk scripting language<a class="headerlink" href="#crosswalk-scripting-language" title="Permanent link">&para;</a></h2>
<p>Your source- and destination schemas allow you to work rapidly, without reference to the underlying data.</p>
<p>All scripts are written as a text string conforming to a standardised template:</p>
<div class="admonition tip">
<p class="admonition-title">Script template</p>
<div class="highlight"><pre><span></span><code><span class="s2">&quot;ACTION &gt; &#39;destination_field&#39;::&#39;destination_term&#39; &lt; &#39;source_term&#39;::[&#39;source_field&#39;, &#39;source_field&#39;]&quot;</span>
</code></pre></div>
<p><em>Less formally:</em> "Perform this <strong>action</strong> to create this <strong>destination field</strong> from these <strong>source fields</strong>."</p>
</div>
<p>Actions use similar naming conventions as for R's <a href="https://tidyr.tidyverse.org/articles/tidy-data.html">Tidyr</a>. Each 
has definitions and examples you can review:</p>
<table>
<thead>
<tr>
<th align="left">Action</th>
<th align="center"><code>&gt;</code> Field</th>
<th align="center"><code>&gt;</code> Term</th>
<th align="center"><code>&lt;</code> Term</th>
<th align="center"><code>&lt;</code> Field</th>
<th align="center"><code>&lt;</code> Rows</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="/actions/calculate">CALCULATE</a></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">[m X,]</td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="/actions/categorise">CATEGORISE</a></td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center">[X,]</td>
<td align="center">X</td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="/actions/deblank">DEBLANK</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="/actions/dedupe">DEDUPE</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="/actions/delete_rows">DELETE_ROWS</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">[X,]</td>
</tr>
<tr>
<td align="left"><a href="/actions/new">NEW</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">[X]</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="/actions/pivot_categories">PIVOT_CATEGORIES</a></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">X</td>
<td align="center">[X,]</td>
</tr>
<tr>
<td align="left"><a href="/actions/pivot_longer">PIVOT_LONGER</a></td>
<td align="center">[X, X]</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">[X,]</td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="/actions/rename">RENAME</a></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">[X]</td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="/actions/select">SELECT</a></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">[X,]</td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="/actions/select_newest">SELECT_NEWEST</a></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">[X m X,]</td>
<td align="center">X</td>
</tr>
<tr>
<td align="left"><a href="/actions/select_oldest">SELECT_OLDEST</a></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">[X m X,]</td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="/actions/separate">SEPARATE</a></td>
<td align="center">[X,]</td>
<td align="center"></td>
<td align="center">X</td>
<td align="center">[X]</td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="/actions/unite">UNITE</a></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center">X</td>
<td align="center">[X,]</td>
<td align="center"></td>
</tr>
</tbody>
</table>
<p>Here:</p>
<ul>
<li><code>X</code> requires only a single term,</li>
<li><code>[X]</code> only a single term, but inside square brackets,</li>
<li><code>[X, X]</code> only two terms accepted,</li>
<li><code>[X,]</code> accepts any number of terms,</li>
<li><code>[m X,]</code> any number of terms, but each term requires a modifier,</li>
<li><code>[X m X,]</code> any number of terms, but indicates a relationship between two terms defined by a modifier.</li>
</ul>
<p>For your example, we define the crosswalk as:</p>
<div class="highlight"><pre><span></span><code><span class="n">SCRIPTS</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">&quot;NEW &gt; &#39;la_code&#39; &lt; [&#39;E06000044&#39;]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;RENAME &gt; &#39;ba_ref&#39; &lt; [&#39;Property Reference Number&#39;]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;RENAME &gt; &#39;prop_ba_rates&#39; &lt; [&#39;Current Rateable Value&#39;]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;RENAME &gt; &#39;occupant_name&#39; &lt; [&#39;Primary Liable party name&#39;]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;RENAME &gt; &#39;postcode&#39; &lt; [&#39;Full Property Address&#39;]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;CATEGORISE &gt; &#39;occupation_state&#39;::False &lt; &#39;Current Relief Type&#39;::[&#39;Empty Property Rate Non-Industrial&#39;, &#39;Empty Property Rate Industrial&#39;, &#39;Empty Property Rate Charitable&#39;]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;CATEGORISE &gt; &#39;occupation_state_reliefs&#39;::&#39;small_business&#39; &lt; &#39;Current Relief Type&#39;::[&#39;Small Business Relief England&#39;, &#39;Sbre Extension For 12 Months&#39;, &#39;Supporting Small Business Relief&#39;]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;CATEGORISE &gt; &#39;occupation_state_reliefs&#39;::&#39;vacancy&#39; &lt; &#39;Current Relief Type&#39;::[&#39;Empty Property Rate Non-Industrial&#39;, &#39;Empty Property Rate Industrial&#39;, &#39;Empty Property Rate Charitable&#39;]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;CATEGORISE &gt; &#39;occupation_state_reliefs&#39;::&#39;retail&#39; &lt; &#39;Current Relief Type&#39;::[&#39;Retail Discount&#39;]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;CATEGORISE &gt; &#39;occupation_state_reliefs&#39;::&#39;other&#39; &lt; &#39;Current Relief Type&#39;::[&#39;Sports Club (Registered CASC)&#39;, &#39;Mandatory&#39;]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;SELECT_NEWEST &gt; &#39;occupation_state_date&#39; &lt; [&#39;Current Relief Award Start Date&#39; + &#39;Current Relief Award Start Date&#39;, &#39;Account Start date&#39; + &#39;Account Start date&#39;]&quot;</span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div>
<p>We define the crosswalk as:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">whyqd</span> <span class="k">as</span> <span class="nn">qd</span>

<span class="n">crosswalk</span> <span class="o">=</span> <span class="n">qd</span><span class="o">.</span><span class="n">CrosswalkDefinition</span><span class="p">()</span>
<span class="n">crosswalk</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">schema_source</span><span class="o">=</span><span class="n">SCHEMA_SOURCE</span><span class="p">,</span> <span class="n">schema_destination</span><span class="o">=</span><span class="n">SCHEMA_DESTINATION</span><span class="p">)</span>
<span class="n">crosswalk</span><span class="o">.</span><span class="n">actions</span><span class="o">.</span><span class="n">add_multi</span><span class="p">(</span><span class="n">terms</span><span class="o">=</span><span class="n">SCRIPTS</span><span class="p">)</span>
<span class="n">crosswalk</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div>
<div class="admonition abstract">
<p class="admonition-title">Strategy quick links</p>
<ul>
<li><a href="/strategies/crosswalk">Crosswalk</a></li>
</ul>
</div>
<h2 id="transforms-and-validations">Transforms and validations<a class="headerlink" href="#transforms-and-validations" title="Permanent link">&para;</a></h2>
<p>Performing the work to produce validated output data is only a few lines of code:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">whyqd</span> <span class="k">as</span> <span class="nn">qd</span>

<span class="c1"># Transform a data source</span>
<span class="n">transform</span> <span class="o">=</span> <span class="n">qd</span><span class="o">.</span><span class="n">TransformDefinition</span><span class="p">(</span><span class="n">crosswalk</span><span class="o">=</span><span class="n">crosswalk</span><span class="p">,</span> <span class="n">data_source</span><span class="o">=</span><span class="n">DATA_SOURCE</span><span class="p">)</span>
<span class="n">transform</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
<span class="n">transform</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="n">DIRECTORY</span><span class="p">)</span>
<span class="c1"># Validate a data source</span>
<span class="n">valiform</span> <span class="o">=</span> <span class="n">qd</span><span class="o">.</span><span class="n">TransformDefinition</span><span class="p">()</span>
<span class="n">valiform</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span>
    <span class="n">transform</span><span class="o">=</span><span class="n">TRANSFORM</span><span class="p">,</span> <span class="n">data_destination</span><span class="o">=</span><span class="n">DESTINATION_DATA</span><span class="p">,</span> <span class="n">mimetype_destination</span><span class="o">=</span><span class="n">DESTINATION_MIMETYPE</span>
<span class="p">)</span>
</code></pre></div>
<h2 id="next-steps">Next steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<p>The code itself is relatively trivial. Where you need to spend time is in internalising the techniques you need to 
write concise crosswalk scripts.</p>
<p>You can continue from here with learning <a href="/strategies/curation">curation strategies</a> and then reviewing the APIs.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.path"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fac441b0.min.js"></script>
      
    
  </body>
</html>